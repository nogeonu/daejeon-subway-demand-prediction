# 🚇 대전광역시 지하철 1호선 승차량 예측

**제2회 지역사회 문제해결형 빅데이터·AI 활용 공모전**

역별·시간별 승차 통행량 예측 모델 개발 프로젝트

---

## 📋 프로젝트 개요

- **공모전명**: 제2회 지역사회 문제해결형 빅데이터·AI 활용 공모전
- **주제**: 스마트카드 자료를 이용한 대전광역시 지하철 통행 수요 예측
- **주최**: 한남대학교 스마트융합대학 빅데이터응용학과
- **개최기관**: 한남대학교 스마트SW인재양성사업단·빅데이터응용학과
- **팀명**: jota ai
- **팀원**: 박광순, 박동균, 노건우, 윤홍식
- **개발 기간**: 2024년 11월

대전광역시 지하철 1호선의 각 역별, 시간별 승차 통행량을 예측하는 시계열 분석 및 머신러닝 프로젝트입니다.

## 🎯 목표

- 지하철 역별 승차량 패턴 분석
- 시간대별 승차량 변화 예측
- 교통 계획 수립을 위한 데이터 기반 인사이트 제공
- 스마트카드 데이터를 활용한 통행 수요 예측 모델 개발

## 🛠️ 기술 스택

- **언어**: Python
- **데이터 분석**: Pandas, NumPy
- **시각화**: Matplotlib, Seaborn
- **머신러닝**: 
  - CatBoost
  - Scikit-learn
  - 시계열 분석 모델
- **개발 환경**: Jupyter Notebook

## 📊 데이터 특성

- **공간적 범위**: 대전광역시 지하철 1호선 전 구간
- **시간적 범위**: 2021년 ~ 2024년 시간별 승차량 데이터
- **분석 단위**: 역별, 시간별 세분화
- **외부 데이터**: 역 주변 POI, 인구 데이터, 날씨 데이터 등

## 🔍 주요 분석 내용

1. **탐색적 데이터 분석 (EDA)**
   - 역별 승차량 분포 분석
   - 시간대별 이용 패턴 파악 (0시~23시)
   - 요일별, 계절별, 공휴일별 변화 분석
   - 역별 특성에 따른 승차량 패턴 분석

2. **특성 엔지니어링**
   - 역 주변 POI 데이터 결합 (학교, 병원, 아파트, 영화관, 마트 등)
   - 시간/날짜 관련 특성 생성 (요일, 월, 계절, 공휴일, 방학 등)
   - 날씨 데이터 결합 (평균기온, 강수량)
   - 공간 특성 (역 주변 토지 용도 비율, 버스 정류장 거리 등)
   - **K-Means 클러스터링을 통한 역 그룹화** (학교 수, 회사 개수 기반)

3. **머신러닝 모델링**
   - **클러스터별·시간대별 분리 모델링 접근법**
     - 역들을 K-Means 클러스터링으로 2개 그룹으로 분류 (Cluster 0, Cluster 1)
     - 각 클러스터별로 시간대(0시~23시)마다 별도의 CatBoost 모델 학습
     - 총 **40개의 개별 모델** 운영 (2 클러스터 × 20 시간대)
     - 시간대별 특성을 반영한 맞춤형 예측 모델 구현
   - CatBoost 회귀 모델 활용
   - 하이퍼파라미터 최적화 (GridSearch, Bayesian Optimization)

## 📁 프로젝트 구조

```
대전광역시 지하철 1호선의 역별:시간별 승차 통행량 예측/
├── README.md
├── .gitignore
├── notebooks/                    # Jupyter 노트북 파일
│   ├── 공모전(최종).ipynb       # 최종 분석 노트북
│   ├── 공모전_NEW_승하차.ipynb
│   ├── 공모전_시각화.ipynb
│   └── ...
├── data/                         # 데이터 디렉토리
│   ├── raw/                      # 원본 데이터
│   │   ├── Training/             # 학습용 원본 데이터 (2021-2024)
│   │   └── 정답지/               # 평가용 정답 데이터
│   ├── processed/                # 전처리된 데이터
│   │   ├── final_data.csv        # 최종 학습 데이터
│   │   ├── train_data.csv        # 학습 데이터
│   │   └── ...
│   └── external/                 # 외부 데이터
│       ├── 대전_*.csv            # 대전 관련 공간 데이터
│       ├── weather_data.csv      # 날씨 데이터
│       └── ...
├── models/                       # 학습된 모델 파일
│   ├── catboost_cluster_0_model.pkl  # 클러스터 0 통합 모델
│   ├── catboost_cluster_1_model.pkl  # 클러스터 1 통합 모델
│   └── model/                    # 시간대별 개별 모델들
│       ├── model_cluster_0_time_CNT00.pkl  # 클러스터 0, 0시 모델
│       ├── model_cluster_0_time_CNT05.pkl  # 클러스터 0, 5시 모델
│       ├── model_cluster_0_time_CNT06.pkl  # 클러스터 0, 6시 모델
│       ├── ...                   # (총 40개: 2 클러스터 × 20 시간대)
│       ├── model_cluster_1_time_CNT00.pkl  # 클러스터 1, 0시 모델
│       ├── model_cluster_1_time_CNT05.pkl  # 클러스터 1, 5시 모델
│       └── ...
├── results/                      # 예측 결과 및 평가 결과
│   ├── predictions.csv
│   ├── mae_results.csv
│   └── ...
├── config/                       # 설정 파일
│   └── best_hyperparameters.json
└── outputs/                      # 출력 이미지 및 시각화
```

## 🚀 실행 방법

1. 필요한 라이브러리 설치
```bash
pip install pandas numpy matplotlib seaborn scikit-learn catboost jupyter
```

2. Jupyter Notebook 실행
```bash
jupyter notebook
```

3. 주요 노트북 파일
   - `notebooks/공모전(최종).ipynb`: 최종 분석 및 모델링 코드
     - 클러스터링 수행
     - 시간대별 모델 학습 및 예측
     - 하이퍼파라미터 최적화

## 📈 주요 성과

- **계층적 모델링 전략**: 클러스터별·시간대별 분리 모델링으로 예측 정확도 향상
- 역별·시간별 승차량 예측 모델 개발 (총 40개 모델)
- K-Means 클러스터링을 활용한 역 그룹화 (Cluster 0, Cluster 1)
- 시간대별 특성 반영을 위한 개별 모델 학습 (CNT00, CNT05~CNT23)
- CatBoost 모델을 활용한 고성능 예측
- 하이퍼파라미터 최적화를 통한 모델 성능 개선

## 🏙️ 활용 방안

- **교통 계획**: 지하철 배차 간격 최적화
- **도시 계획**: 역 주변 개발 계획 수립
- **시민 서비스**: 실시간 혼잡도 정보 제공
- **운영 효율화**: 시간대별 수요 예측을 통한 운행 최적화

## 📊 주요 성과 지표

- 예측 정확도 (RMSE, MAE)
- 시간대별 예측 성능
- 역별 예측 성능 비교

## 📝 참고사항

- 대용량 데이터 파일(.csv, .pkl 등)은 .gitignore에 포함되어 Git에 업로드되지 않습니다.
- 실제 데이터 파일은 로컬 환경에서 확인하시기 바랍니다.

## 📄 라이선스

이 프로젝트는 한남대학교 제2회 지역사회 문제해결형 빅데이터·AI 활용 공모전 참가작입니다.

---

**팀명**: jota ai  
**팀원**: 박광순, 박동균, 노건우, 윤홍식  
**개발 기간**: 2024년  
**분야**: 교통 데이터 분석, 시계열 예측, 머신러닝
